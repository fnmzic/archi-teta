

# Уточнение необходимости перехода на MongoDB

* Статус: Предложено
* Владелец: ai@mts.ru

## Контекст
Маркетинг решил заняться позиционированием продукта "HelloConf" на рынке, и хочет применять систему конференций в качестве LMS (Learning Management System). В связи с этим появляются новые требования к данным, такие как план мероприятий, ссылки на материалы и тексты домашних заданий. Тимлид предложил перейти с реляционной базы данных на MongoDB, ссылаясь на гибкость и возможности, которые предоставляет MongoDB.

## Варианты решения

Для принятия решения команда проводит исследование подходящих баз данных для проекта. Методика исследования заключается в определении критериев и их последующей оценке, основанных на опыте команды.
-   Надежность и целостность данных:
    
    -   Postgres: 9/10
    -   MongoDB: 8/10
    -   MariaDB: 9/10
- Расширяемость и гибкость:
    
    -   Postgres: 9/10
    -   MongoDB: 10/10
    -   MariaDB: 9/10
-   Поддержка SQL и сложных запросов:
    
    -   Postgres: 10/10
    -   MongoDB: 7/10
    -   MariaDB: 10/10
 - Транзакционная поддержка:
    
    -   Postgres: 10/10
    -   MongoDB: 6/10 (транзакции добавлены в более поздних версиях)
    -   MariaDB: 10/10
- Репликация и масштабируемость:
    
    -   Postgres: 9/10
    -   MongoDB: 9/10
    -   MariaDB: 8/10
 - Уровень сообщества и экосистема:
    
    -   Postgres: 9/10
    -   MongoDB: 8/10
    -   MariaDB: 8/10

- Поддержка работы с JSON
    -   Postgres: 9/10
    -   MongoDB: 10/10
    -   MariaDB: 8/10


## Решение
На основе нашего сравнения, мы приходим к следующим выводам:

-   Postgres обладает высокой надежностью, поддержкой сложных запросов и широкой экосистемой. Он также обеспечивает полную транзакционную поддержку, что делает его хорошим выбором для приложений, где целостность данных и мощные SQL-запросы критичны.
    
-   MongoDB предлагает гибкую схему и хорошую масштабируемость. Он отлично подходит для проектов, где требуется обработка больших объемов неструктурированных данных и гибкость в структуре данных.
    
-   MariaDB, форк MySQL, предлагает полную поддержку SQL и транзакций, а также надежность и расширяемость. Он является хорошим выбором для приложений, где требуется классическая реляционная модель данных и совместимость с MySQL.

Учитывая наши требования и контекст проекта, мы принимаем решение перейти с реляционной базы данных на MongoDB для системы "HelloConf". MongoDB предлагает ряд преимуществ и функциональных возможностей, которые лучше соответствуют нашим текущим и будущим требованиям.

### Последствия
При переходе на MongoDB для системы "HelloConf" могут возникнуть следующие последствия:
1.  Обучение и переобучение: Команда разработчиков и администраторов баз данных, знакомых с реляционными СУБД, возможно, потребуется переобучиться для работы с MongoDB. Необходимо предоставить достаточное время и ресурсы для ознакомления с особенностями MongoDB и обучения персонала.
    
2.  Изменение архитектуры системы: Переход на MongoDB может потребовать изменения архитектуры и логики работы системы. Например, некоторые операции, которые были простыми в реляционных СУБД, могут потребовать нового подхода при работе с документоориентированной моделью данных.
    
3.  Необходимость переноса данных: Переход на новую базу данных требует переноса данных из текущей реляционной БД в MongoDB. Это может быть сложным и трудоемким процессом, особенно при больших объемах данных. Необходимо разработать и протестировать механизмы переноса данных, чтобы минимизировать потенциальные проблемы и потерю информации.
